# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`bind`](#bind): Manage the Bind9 DNS daemon and configuration

### Defined types

#### Public Defined types

* [`bind::acl`](#bind--acl): Manage ACL entries
* [`bind::controls::inet`](#bind--controls--inet): Manage an inet control channel
* [`bind::controls::unix`](#bind--controls--unix): Manage a unix control channel
* [`bind::dnssec_policy`](#bind--dnssec_policy): Define keys and a signing policy for zones
* [`bind::key`](#bind--key): Manage secret keys
* [`bind::listen_on`](#bind--listen_on): Manage listen-on option clause
* [`bind::listen_on_v6`](#bind--listen_on_v6): Manage listen-on-v6 option clause
* [`bind::logging::category`](#bind--logging--category): Manage logging category
* [`bind::logging::channel_file`](#bind--logging--channel_file): Manage logging channel to a logfile
* [`bind::logging::channel_syslog`](#bind--logging--channel_syslog): Manage logging channel to syslog
* [`bind::statistics_channel`](#bind--statistics_channel): Manage statistics channel
* [`bind::view`](#bind--view): Manage a view
* [`bind::zone::forward`](#bind--zone--forward): Manage a forward zone
* [`bind::zone::hint`](#bind--zone--hint): Manage a hint zone
* [`bind::zone::in_view`](#bind--zone--in_view): Manage a in-view zone reference
* [`bind::zone::mirror`](#bind--zone--mirror): Manage a mirror zone
* [`bind::zone::primary`](#bind--zone--primary): Manage a primary zone
* [`bind::zone::secondary`](#bind--zone--secondary): Manage a secondary zone

#### Private Defined types

* `bind::aml`: Manage an address match list
* `bind::config`: Manage configuration files

### Resource types

* [`dnssec_key`](#dnssec_key): Create, delete and maintain DNSSEC key files on the DNS server

### Functions

* [`bind::gencfg`](#bind--gencfg): Generate a configuration snippet from a hash
* [`bind::zonefile_path`](#bind--zonefile_path): Generate the zonefile name from zone

### Data types

* [`Bind::AddressMatchList`](#Bind--AddressMatchList): Type to match allowed values for an address match list
* [`Bind::Auto_dnssec`](#Bind--Auto_dnssec): Type to match allowed values for the auto-dnssec option
* [`Bind::DNSSEC::Algorithm`](#Bind--DNSSEC--Algorithm): Type to match allowed values for DNSSEC key algorithms
* [`Bind::DNSSEC::Updatemode`](#Bind--DNSSEC--Updatemode): Type to match allowed values for the dnssec-update-mode option
* [`Bind::DNSSEC::Validation`](#Bind--DNSSEC--Validation): Type to match allowed values for the dnssec-validation option
* [`Bind::Duration`](#Bind--Duration): Type to match ISO8601 durations
* [`Bind::Filter_aaaa_on_v4`](#Bind--Filter_aaaa_on_v4): Type to match allowed values for the filter-aaaa-on-v4 option
* [`Bind::Forward`](#Bind--Forward): Type to match allowed values for the forward option
* [`Bind::Key::Algorithm`](#Bind--Key--Algorithm): Type to match allowed values for the key algorithm
* [`Bind::Key::Lifetime`](#Bind--Key--Lifetime): Type to match allowed values for the key lifetime
* [`Bind::Notify_secondaries`](#Bind--Notify_secondaries): Type to match allowed values for the notify option
* [`Bind::Syslog::Facility`](#Bind--Syslog--Facility): Type to match allowed values for the syslog facility
* [`Bind::Syslog::Severity`](#Bind--Syslog--Severity): Type to match allowed values for the syslog severity
* [`Bind::Zone::Class`](#Bind--Zone--Class): Type to match allowed values for the zone class

## Classes

### <a name="bind"></a>`bind`

Manage the Bind9 DNS daemon and configuration

#### Examples

##### Install a local caching resolver

```puppet

class { 'bind':
  listen_on         => [ '127.0.0.1' ],
  listen_on_v6      => [ '::1' ],
  allow_query       => [ '127.0.0.1', '::1' ],
  allow_query_cache => [ '127.0.0.1', '::1' ],
  allow_recursion   => [ '127.0.0.1', '::1' ],
}
```

##### Use custom options to set uncommon options

```puppet

class { 'bind':
  listen_on      => [ '127.0.0.1' ],
  custom_options => {
    'tcp-idle-timeout' => 600,
    'dnstab'           => [ 'auth', 'resolver', ],
    'rrset-order'      => {
      'type A name "example.com"'    => 'order random',
      'type AAAA name "example.com"' => 'order cyclic',
    },
  },
}
```

#### Parameters

The following parameters are available in the `bind` class:

* [`confdir`](#-bind--confdir)
* [`vardir`](#-bind--vardir)
* [`cachedir`](#-bind--cachedir)
* [`rndc_keyfile`](#-bind--rndc_keyfile)
* [`rndc_program`](#-bind--rndc_program)
* [`checkzone_program`](#-bind--checkzone_program)
* [`bind_user`](#-bind--bind_user)
* [`bind_group`](#-bind--bind_group)
* [`package_name`](#-bind--package_name)
* [`service_name`](#-bind--service_name)
* [`listen_on`](#-bind--listen_on)
* [`listen_on_v6`](#-bind--listen_on_v6)
* [`ipv4_enable`](#-bind--ipv4_enable)
* [`ipv6_enable`](#-bind--ipv6_enable)
* [`views_enable`](#-bind--views_enable)
* [`dnssec_enable`](#-bind--dnssec_enable)
* [`dnssec_lookaside`](#-bind--dnssec_lookaside)
* [`dnssec_validation`](#-bind--dnssec_validation)
* [`empty_zones_enable`](#-bind--empty_zones_enable)
* [`control_channels_enable`](#-bind--control_channels_enable)
* [`allow_query`](#-bind--allow_query)
* [`allow_query_cache`](#-bind--allow_query_cache)
* [`allow_recursion`](#-bind--allow_recursion)
* [`blackhole`](#-bind--blackhole)
* [`forwarders`](#-bind--forwarders)
* [`forward`](#-bind--forward)
* [`root_mirror_enable`](#-bind--root_mirror_enable)
* [`root_hints_enable`](#-bind--root_hints_enable)
* [`root_hints_source`](#-bind--root_hints_source)
* [`localhost_forward_enable`](#-bind--localhost_forward_enable)
* [`localhost_forward_source`](#-bind--localhost_forward_source)
* [`localhost_reverse_enable`](#-bind--localhost_reverse_enable)
* [`localhost_reverse_source`](#-bind--localhost_reverse_source)
* [`filter_aaaa_on_v4`](#-bind--filter_aaaa_on_v4)
* [`window`](#-bind--window)
* [`ipv4_prefix_length`](#-bind--ipv4_prefix_length)
* [`ipv6_prefix_length`](#-bind--ipv6_prefix_length)
* [`log_only`](#-bind--log_only)
* [`exempt_clients`](#-bind--exempt_clients)
* [`acls`](#-bind--acls)
* [`amls`](#-bind--amls)
* [`configs`](#-bind--configs)
* [`dnssec_policies`](#-bind--dnssec_policies)
* [`keys`](#-bind--keys)
* [`statistics_channels`](#-bind--statistics_channels)
* [`views`](#-bind--views)
* [`controls_inet`](#-bind--controls_inet)
* [`controls_unix`](#-bind--controls_unix)
* [`logging_categories`](#-bind--logging_categories)
* [`logging_channel_files`](#-bind--logging_channel_files)
* [`logging_channel_syslog`](#-bind--logging_channel_syslog)
* [`zone_forwards`](#-bind--zone_forwards)
* [`zone_hints`](#-bind--zone_hints)
* [`zone_in_views`](#-bind--zone_in_views)
* [`zone_mirrors`](#-bind--zone_mirrors)
* [`zone_primaries`](#-bind--zone_primaries)
* [`zone_secondaries`](#-bind--zone_secondaries)
* [`all_per_second`](#-bind--all_per_second)
* [`errors_per_second`](#-bind--errors_per_second)
* [`responses_per_second`](#-bind--responses_per_second)
* [`referrals_per_second`](#-bind--referrals_per_second)
* [`nodata_per_second`](#-bind--nodata_per_second)
* [`nxdomains_per_second`](#-bind--nxdomains_per_second)
* [`qps_scale`](#-bind--qps_scale)
* [`slip`](#-bind--slip)
* [`max_cache_size`](#-bind--max_cache_size)
* [`min_cache_ttl`](#-bind--min_cache_ttl)
* [`max_cache_ttl`](#-bind--max_cache_ttl)
* [`min_ncache_ttl`](#-bind--min_ncache_ttl)
* [`max_ncache_ttl`](#-bind--max_ncache_ttl)
* [`servfail_ttl`](#-bind--servfail_ttl)
* [`custom_options`](#-bind--custom_options)
* [`package_ensure`](#-bind--package_ensure)
* [`service_ensure`](#-bind--service_ensure)
* [`service_enable`](#-bind--service_enable)
* [`manage_rndc_keyfile`](#-bind--manage_rndc_keyfile)
* [`report_hostname`](#-bind--report_hostname)
* [`report_version`](#-bind--report_version)
* [`querylog_enable`](#-bind--querylog_enable)
* [`trust_anchor_telemetry`](#-bind--trust_anchor_telemetry)

##### <a name="-bind--confdir"></a>`confdir`

Data type: `Stdlib::Absolutepath`

The directory where the main Bind configuration file is located. Example:
`/etc/bind`.

Default: operating system specific

##### <a name="-bind--vardir"></a>`vardir`

Data type: `Stdlib::Absolutepath`

The directory where Bind stores other files (e.g. primary zone files or
keys managed by Bind).
Example: `/var/lib/bind`.

Default: operating system specific

##### <a name="-bind--cachedir"></a>`cachedir`

Data type: `Stdlib::Absolutepath`

The directory where Bind stores volatile data (e.g. secondary zone
files).  Example: `/var/cache/bind`.

Default: operating system specific

##### <a name="-bind--rndc_keyfile"></a>`rndc_keyfile`

Data type: `Stdlib::Absolutepath`

The file where the secret key for the rndc program is stored.

Default: operating system specific

##### <a name="-bind--rndc_program"></a>`rndc_program`

Data type: `Stdlib::Absolutepath`

The full path of the rndc program.

Default: operating system specific

##### <a name="-bind--checkzone_program"></a>`checkzone_program`

Data type: `Stdlib::Absolutepath`

The full path of the named-checkzone program.

Default: operating system specific

##### <a name="-bind--bind_user"></a>`bind_user`

Data type: `String`

Run the Bind daemon as this user. This parameter is also used to set the
owner of some directories and files that the Bind daemon needs to write
to.

Default: operating system specific

##### <a name="-bind--bind_group"></a>`bind_group`

Data type: `String`

The group ownership for some Bind related directories and files.

Default: operating system specific

##### <a name="-bind--package_name"></a>`package_name`

Data type: `String`

The name of the Bind package to install.

Default: operating system specific

##### <a name="-bind--service_name"></a>`service_name`

Data type: `String`

The name of the Bind service to manage.

Default: operating system specific

##### <a name="-bind--listen_on"></a>`listen_on`

Data type: `Bind::AddressMatchList`

An array of strings to define the IPv4 address(es) on which the daemon
will listen for queries. The string `any` may be used to listen on all
available interfaces and addresses. This is also the default if the
parameter is unset. The string `none` may be used to disable IPv4.

Use `bind::listen_on` to define more complex configurations.

Default value: `[]`

##### <a name="-bind--listen_on_v6"></a>`listen_on_v6`

Data type: `Bind::AddressMatchList`

An array of strings to define the IPv6 address(es) on which the daemon
will listen for queries. The string `any` may be used to listen on all
available interfaces and addresses. This is also the default if the
parameter is unset. The string `none` may be used to disable IPv6.

Use `bind::listen_on_v6` to define more complex configurations.

Default value: `[]`

##### <a name="-bind--ipv4_enable"></a>`ipv4_enable`

Data type: `Boolean`

Should Bind use IPv4. At least one of `ipv4_enable` and `ipv6_enable`
must be set to true.

Default value: `true`

##### <a name="-bind--ipv6_enable"></a>`ipv6_enable`

Data type: `Boolean`

Should Bind use IPv6. At least one of `ipv4_enable` and `ipv6_enable`
must be set to true.

Default value: `true`

##### <a name="-bind--views_enable"></a>`views_enable`

Data type: `Boolean`

Should views be enabled.

Default value: `false`

##### <a name="-bind--dnssec_enable"></a>`dnssec_enable`

Data type: `Boolean`

Should DNSSEC be enabled. This parameter is ignored for Bind 9.16.0 or
later where DNSSEC is always enabled.

Default value: `true`

##### <a name="-bind--dnssec_lookaside"></a>`dnssec_lookaside`

Data type: `Boolean`

Should DNSSEC Lookaside Validation be enabled. This parameter is ignored
for Bind 9.16.0 or later where DNSSEC Lookaside Validation is obsolete.

Default value: `false`

##### <a name="-bind--dnssec_validation"></a>`dnssec_validation`

Data type: `Bind::DNSSEC::Validation`

Should DNSSEC Validation be enabled.

Default value: `'auto'`

##### <a name="-bind--empty_zones_enable"></a>`empty_zones_enable`

Data type: `Boolean`

Should automatic empty zones be enabled.

Default value: `true`

##### <a name="-bind--control_channels_enable"></a>`control_channels_enable`

Data type: `Boolean`

Should control channels be enabled. All `bind::controls::unix` and
`bind::controls::inet` configuration items will be ignored if this is set
to `false`. In this case an empty controls statement will be generated and
the default control channel will also be disabled. The default control
channel will be enabled automatically if this parameter is `true` and no
explicit channels are created using the `bind::controls::unix` or
`bind::controls::inet` defined type.

Default value: `true`

##### <a name="-bind--allow_query"></a>`allow_query`

Data type: `Bind::AddressMatchList`

An array of IP addresses/networks or ACL names that are allowed to query
this Bind server.

Default value: `[]`

##### <a name="-bind--allow_query_cache"></a>`allow_query_cache`

Data type: `Bind::AddressMatchList`

An array of IP addresses/networks or ACL names that are allowed to use
the query cache on this Bind server.

Default value: `[]`

##### <a name="-bind--allow_recursion"></a>`allow_recursion`

Data type: `Bind::AddressMatchList`

An array of IP addresses/networks or ACL names that are allowed to use
this Bind server for recursion. Recursion is automatically turned on if
this parameter is not empty.

Default value: `[]`

##### <a name="-bind--blackhole"></a>`blackhole`

Data type: `Bind::AddressMatchList`

An array of IP addresses/networks that are ignored by the server. Requests
from sources matching this list will not be answered.

Default value: `[]`

##### <a name="-bind--forwarders"></a>`forwarders`

Data type: `Bind::AddressMatchList`

An array of other DNS servers that can be used to forward unresolvable
queries to.

Default value: `[]`

##### <a name="-bind--forward"></a>`forward`

Data type: `Bind::Forward`

The type of forwarding used. This parameter is only used if forwarders
are actually defined. Valid values: 'first', 'only'. Note that
automatic empty zones for RFC 6303 are ignored if this parameter
is set to `only`.

Default value: `'first'`

##### <a name="-bind--root_mirror_enable"></a>`root_mirror_enable`

Data type: `Boolean`

Should a mirror for the root domain "." be installed locally. See RFC
7706 for details.

Default value: `false`

##### <a name="-bind--root_hints_enable"></a>`root_hints_enable`

Data type: `Boolean`

Should a local copy of the list of servers that are authoritative for the
root domain "." be included. This is normally not needed since Bind
contains an internal list of root nameservers and `named` will query the
servers in the list until an authoritative response is received. Normally
this parameter can be left at default.

Default value: `false`

##### <a name="-bind--root_hints_source"></a>`root_hints_source`

Data type: `String`

The source file to use for the root hints. The default is a file provided
by this module.

Default value: `"puppet:///modules/${module_name}/zones/db.root"`

##### <a name="-bind--localhost_forward_enable"></a>`localhost_forward_enable`

Data type: `Boolean`

Should the forward zone for localhost be enabled.

Default value: `true`

##### <a name="-bind--localhost_forward_source"></a>`localhost_forward_source`

Data type: `String`

The source file to use for the localhost forward zone. The default is
a file provided by this module.

Default value: `"puppet:///modules/${module_name}/zones/db.localhost"`

##### <a name="-bind--localhost_reverse_enable"></a>`localhost_reverse_enable`

Data type: `Boolean`

Should the reverse zone for localhost be enabled.

Default value: `true`

##### <a name="-bind--localhost_reverse_source"></a>`localhost_reverse_source`

Data type: `String`

The source file to use for the localhost reverse zone. The default is
a file provided by this module.

Default value: `"puppet:///modules/${module_name}/zones/db.127"`

##### <a name="-bind--filter_aaaa_on_v4"></a>`filter_aaaa_on_v4`

Data type: `Bind::Filter_aaaa_on_v4`

Should AAAA records be omitted from the response if the IPv4 transport is
used. If this is set to `yes` then it does not apply if the queried zone
is DNSSEC-signed. Setting this parameter to `break-dnssec` will also omit
DNSSEC related RRs if AAAA records are filtered. Valid options: `no`,
`yes`, `break-dnssec`. This parameter is ignored for Bind 9.16.0 or
later.

Default value: `undef`

##### <a name="-bind--window"></a>`window`

Data type: `Integer[0,3600]`

The size of the rolling window measured in seconds over which the rate
limits are calculated.

Default value: `0`

##### <a name="-bind--ipv4_prefix_length"></a>`ipv4_prefix_length`

Data type: `Integer[0,32]`

Define the number of bits that are used to group IPv4 addresses (like
a netmask). The rate limits are applied to all requests having the same
network prefix.

Default value: `0`

##### <a name="-bind--ipv6_prefix_length"></a>`ipv6_prefix_length`

Data type: `Integer[0,128]`

Define the number of bits that are used to group IPv6 addresses (like
a netmask). The rate limits are applied to all requests having the same
network prefix.

Default value: `0`

##### <a name="-bind--log_only"></a>`log_only`

Data type: `Boolean`

Do not really limit the queries but only log that it would happen. This
can be used to test rate limits before enforcing them.

Default value: `false`

##### <a name="-bind--exempt_clients"></a>`exempt_clients`

Data type: `Array[String]`

An array of IP addresses/networks or ACL names that are never limited.

Default value: `[]`

##### <a name="-bind--acls"></a>`acls`

Data type: `Hash`

Hash of `bind::acl` resources.

Default value: `{}`

##### <a name="-bind--amls"></a>`amls`

Data type: `Hash`

Hash of `bind::aml` resources.

Default value: `{}`

##### <a name="-bind--configs"></a>`configs`

Data type: `Hash`

Hash of `bind::config` resources.

Default value: `{}`

##### <a name="-bind--dnssec_policies"></a>`dnssec_policies`

Data type: `Hash`

Hash of `bind::dnssec_policy` resources.

Default value: `{}`

##### <a name="-bind--keys"></a>`keys`

Data type: `Hash`

Hash of `bind::key` resources.

Default value: `{}`

##### <a name="-bind--statistics_channels"></a>`statistics_channels`

Data type: `Hash`

Hash of `bind::statistics_channel` resources.

Default value: `{}`

##### <a name="-bind--views"></a>`views`

Data type: `Hash`

Hash of `bind::view` resources.

Default value: `{}`

##### <a name="-bind--controls_inet"></a>`controls_inet`

Data type: `Hash`

Hash of `bind::controls::inet` resources.

Default value: `{}`

##### <a name="-bind--controls_unix"></a>`controls_unix`

Data type: `Hash`

Hash of `bind::controls::unix` resources.

Default value: `{}`

##### <a name="-bind--logging_categories"></a>`logging_categories`

Data type: `Hash`

Hash of `bind::logging::category` resources.

Default value: `{}`

##### <a name="-bind--logging_channel_files"></a>`logging_channel_files`

Data type: `Hash`

Hash of `bind::logging::channel_file` resources.

Default value: `{}`

##### <a name="-bind--logging_channel_syslog"></a>`logging_channel_syslog`

Data type: `Hash`

Hash of `bind::logging::channel_syslog` resources.

Default value: `{}`

##### <a name="-bind--zone_forwards"></a>`zone_forwards`

Data type: `Hash`

Hash of `bind::zone::forward` resources.

Default value: `{}`

##### <a name="-bind--zone_hints"></a>`zone_hints`

Data type: `Hash`

Hash of `bind::zone::hint` resources.

Default value: `{}`

##### <a name="-bind--zone_in_views"></a>`zone_in_views`

Data type: `Hash`

Hash of `bind::zone::in_view` resources.

Default value: `{}`

##### <a name="-bind--zone_mirrors"></a>`zone_mirrors`

Data type: `Hash`

Hash of `bind::zone::mirror` resources.

Default value: `{}`

##### <a name="-bind--zone_primaries"></a>`zone_primaries`

Data type: `Hash`

Hash of `bind::zone::primary` resources.

Default value: `{}`

##### <a name="-bind--zone_secondaries"></a>`zone_secondaries`

Data type: `Hash`

Hash of `bind::zone::secondary` resources.

Default value: `{}`

##### <a name="-bind--all_per_second"></a>`all_per_second`

Data type: `Optional[Integer[0,1000]]`

Limit the number of total answers per second for an IP address to the
given value.

Default value: `undef`

##### <a name="-bind--errors_per_second"></a>`errors_per_second`

Data type: `Optional[Integer[0,1000]]`

Limit the number of total error answers per second for an IP address to
the given value.

Default value: `undef`

##### <a name="-bind--responses_per_second"></a>`responses_per_second`

Data type: `Optional[Integer[0,1000]]`

Limit the number of identical responses per second for an IP address to
the given value.

Default value: `undef`

##### <a name="-bind--referrals_per_second"></a>`referrals_per_second`

Data type: `Optional[Integer[0,1000]]`

Limit the number of referrals per second to the given value.

Default value: `undef`

##### <a name="-bind--nodata_per_second"></a>`nodata_per_second`

Data type: `Optional[Integer[0,1000]]`

Limit the number of NODATA responses per second to the given value.

Default value: `undef`

##### <a name="-bind--nxdomains_per_second"></a>`nxdomains_per_second`

Data type: `Optional[Integer[0,1000]]`

Limit the number of NXDOMAIN responses per second to the given value.

Default value: `undef`

##### <a name="-bind--qps_scale"></a>`qps_scale`

Data type: `Optional[Integer[0,1000]]`

Value to define the query per second scaling when using rate limiting.

Default value: `undef`

##### <a name="-bind--slip"></a>`slip`

Data type: `Optional[Integer[0,10]]`

Set the rate at which queries over the defined limit are returned with
the truncate bit.

Default value: `undef`

##### <a name="-bind--max_cache_size"></a>`max_cache_size`

Data type: `Integer`

The maximum number of bytes to use for the server's cache. If views are
used then the size applies to every view separately. If this value is
zero then no limit is configured.

Default value: `0`

##### <a name="-bind--min_cache_ttl"></a>`min_cache_ttl`

Data type: `Integer`

The minimum number of seconds for which the server will cache positive
answers.

Default value: `0`

##### <a name="-bind--max_cache_ttl"></a>`max_cache_ttl`

Data type: `Integer`

The maximum number of seconds for which the server will cache positive
answers. If this value is zero then the config parameter will be omitted
and the Bind default of 1 week will be used.

Default value: `0`

##### <a name="-bind--min_ncache_ttl"></a>`min_ncache_ttl`

Data type: `Integer`

The minimum number of seconds for which the server will cache negative
answers.

Default value: `0`

##### <a name="-bind--max_ncache_ttl"></a>`max_ncache_ttl`

Data type: `Integer`

The maximum number of seconds for which the server will cache negative
answers. If this value is zero then the config parameter will be omitted
and the Bind default of 3 hours will be used.

Default value: `0`

##### <a name="-bind--servfail_ttl"></a>`servfail_ttl`

Data type: `Integer`

The number of seconds that SERVFAIL responses caused by DNSSEC validation
errors are cached. Can be set to 0 to disable caching.

Default value: `0`

##### <a name="-bind--custom_options"></a>`custom_options`

Data type: `Hash[String,Data]`

Additional config options that are not implemented as class parameters
can be set by a hash of custom options. Each key of the hash will be
added to the option block of the configuration. For string or numeric
values the value will be added as a normal option value. If the value is
a hash or an array it will be included as an additional block enclosed in
braces.

Default value: `{}`

##### <a name="-bind--package_ensure"></a>`package_ensure`

Data type: `String`

The state of the Bind package. Normally this is set to `installed` or a
specific version number.

Default value: `'installed'`

##### <a name="-bind--service_ensure"></a>`service_ensure`

Data type: `Stdlib::Ensure::Service`

Whether the Bind service should be running.

Default value: `'running'`

##### <a name="-bind--service_enable"></a>`service_enable`

Data type: `Boolean`

Should the Bind service be enabled.

Default value: `true`

##### <a name="-bind--manage_rndc_keyfile"></a>`manage_rndc_keyfile`

Data type: `Boolean`

Should the rndc key file be managed by the main class. If this is `true`
(the default) then the secret key generated by the package installation
will be used. Only the file mode and owner are managed without updating
the content of the key file. If this is `false` then the key file for the
`rndc` tool is not managed by the main class. Use the `bind::key` defined
type to manage the key on your own. Caution: changing the key while
`named` is running leads to a problem because Puppet can't reload or
restart the service after the key file has been updated because the daemon
still uses the old key.

Default value: `true`

##### <a name="-bind--report_hostname"></a>`report_hostname`

Data type: `Optional[String]`

The hostname the will be reported by Bind. If this is undefined
(default), then Bind will report the local hostname. Set this to a string
to hide the hostname and report the given string instead. Use the empty
string to disable hostname reporting completely.

Default value: `undef`

##### <a name="-bind--report_version"></a>`report_version`

Data type: `Optional[String]`

The version string that will be reported by Bind. If this is undefined
(default), then Bind will report the version that has been installed. Set
this to a string to hide the version number and report the given string
instead. Use the empty string to disable version reporting completely.

Use the following command to test: dig @127.0.0.1 version.bind chaos txt

Default value: `undef`

##### <a name="-bind--querylog_enable"></a>`querylog_enable`

Data type: `Optional[Boolean]`

Should the querylog be enabled.

Default value: `undef`

##### <a name="-bind--trust_anchor_telemetry"></a>`trust_anchor_telemetry`

Data type: `Optional[Boolean]`

Should the trust anchor telemetry transmission be enable. When enabled,
once a day the DNSSEC trust anchors in use will be transmitted to the zon
owners. This is enabled by default.

Default value: `undef`

## Defined types

### <a name="bind--acl"></a>`bind::acl`

Manage ACL entries

#### Examples

##### Create an ACL for an internal network

```puppet

bind::acl { 'internal':
  address_match_list => [ '10.0.0.0/8', ],
  comment            => 'internal network',
}
```

#### Parameters

The following parameters are available in the `bind::acl` defined type:

* [`address_match_list`](#-bind--acl--address_match_list)
* [`comment`](#-bind--acl--comment)
* [`order`](#-bind--acl--order)
* [`acl`](#-bind--acl--acl)

##### <a name="-bind--acl--address_match_list"></a>`address_match_list`

Data type: `Array[String,1]`

An array of IP addresses/networks, which can be referenced in other Bind
configuration clauses to limit access to a component. The array parameter
must have at least one entry.

##### <a name="-bind--acl--comment"></a>`comment`

Data type: `Optional[String]`

An optional string that is used as comment in the generated ACL file.

Default value: `undef`

##### <a name="-bind--acl--order"></a>`order`

Data type: `String`

The sorting order of the ACLs in the configuration file.

Default value: `'10'`

##### <a name="-bind--acl--acl"></a>`acl`

Data type: `String`

The name of the ACL. Defaults to the name of the resource.

Default value: `$name`

### <a name="bind--controls--inet"></a>`bind::controls::inet`

Manage an inet control channel

#### Examples

##### Using the defined type

```puppet

bind::controls::inet { '*':
  keys => [ 'rndc.key', ],
}
```

#### Parameters

The following parameters are available in the `bind::controls::inet` defined type:

* [`allow`](#-bind--controls--inet--allow)
* [`keys`](#-bind--controls--inet--keys)
* [`read_only`](#-bind--controls--inet--read_only)
* [`address`](#-bind--controls--inet--address)
* [`port`](#-bind--controls--inet--port)

##### <a name="-bind--controls--inet--allow"></a>`allow`

Data type: `Bind::AddressMatchList`

The client addresses that are allowed to access this control channel.

Default value: `[]`

##### <a name="-bind--controls--inet--keys"></a>`keys`

Data type: `Array[String]`

The name of the keys that will be used to authenticate access to this
control channel.

Default value: `[]`

##### <a name="-bind--controls--inet--read_only"></a>`read_only`

Data type: `Boolean`

Should the control channel only allow read-only access.

Default value: `false`

##### <a name="-bind--controls--inet--address"></a>`address`

Data type: `String`

The IPv4 or IPv6 address where the control channel will be created. This
can also be the string `*` for all local IPv4 addresses or the string `::`
for all local IPv6 addresses.

Default value: `$name`

##### <a name="-bind--controls--inet--port"></a>`port`

Data type: `Optional[Stdlib::Port]`

The port where the control channel will be listening. The default port 953
will be ised if this is unset.

Default value: `undef`

### <a name="bind--controls--unix"></a>`bind::controls::unix`

Manage a unix control channel

#### Examples

##### Using the defined type

```puppet

bind::controls::unix { '/run/named.ctl':
  owner => 0,
  group => 0,
  perm  => '0640',
  keys  => [ 'rndc.key', ],
}
```

#### Parameters

The following parameters are available in the `bind::controls::unix` defined type:

* [`owner`](#-bind--controls--unix--owner)
* [`group`](#-bind--controls--unix--group)
* [`perm`](#-bind--controls--unix--perm)
* [`keys`](#-bind--controls--unix--keys)
* [`read_only`](#-bind--controls--unix--read_only)
* [`path`](#-bind--controls--unix--path)

##### <a name="-bind--controls--unix--owner"></a>`owner`

Data type: `Integer`

The owner of the unix control channel socket. This must be the integer
value of the owner's user id.

##### <a name="-bind--controls--unix--group"></a>`group`

Data type: `Integer`

The group of the unix control channel socket. This must be the integer
value of the owner's group id.

##### <a name="-bind--controls--unix--perm"></a>`perm`

Data type: `Stdlib::Filemode`

The file permisssions of the unix control channel socket.

##### <a name="-bind--controls--unix--keys"></a>`keys`

Data type: `Array[String]`

The name of the keys that will be used to authenticate access to this
control channel.

Default value: `[]`

##### <a name="-bind--controls--unix--read_only"></a>`read_only`

Data type: `Boolean`

Should the control channel only allow read-only access.

Default value: `false`

##### <a name="-bind--controls--unix--path"></a>`path`

Data type: `Stdlib::AbsolutePath`

The file path of the unix control socket to create.

Default value: `$name`

### <a name="bind--dnssec_policy"></a>`bind::dnssec_policy`

The policy should either define a Zone-Signing Key (ZSK) and a Key-Signing
Key (KSK) or a Combined Signing Key (CSK). A ZSK is used to sign all
records except for DNSKEY, CDS and CDNSKEY which are signed using the
KSK. Alternatively a CSK can be used to sign all records.

#### Examples

##### Create a DNSSEC policy

```puppet

bind::dnssec_policy { 'standard':
  csk_lifetime  => 'unlimited',
  csk_algorithm => 'ecdsap256sha256',
}
```

#### Parameters

The following parameters are available in the `bind::dnssec_policy` defined type:

* [`policy`](#-bind--dnssec_policy--policy)
* [`nsec3_enable`](#-bind--dnssec_policy--nsec3_enable)
* [`nsec3param_iterations`](#-bind--dnssec_policy--nsec3param_iterations)
* [`nsec3param_optout`](#-bind--dnssec_policy--nsec3param_optout)
* [`nsec3param_salt_length`](#-bind--dnssec_policy--nsec3param_salt_length)
* [`dnskey_ttl`](#-bind--dnssec_policy--dnskey_ttl)
* [`purge_keys`](#-bind--dnssec_policy--purge_keys)
* [`publish_safety`](#-bind--dnssec_policy--publish_safety)
* [`retire_safety`](#-bind--dnssec_policy--retire_safety)
* [`signatures_refresh`](#-bind--dnssec_policy--signatures_refresh)
* [`signatures_validity`](#-bind--dnssec_policy--signatures_validity)
* [`signatures_validity_dnskey`](#-bind--dnssec_policy--signatures_validity_dnskey)
* [`max_zone_ttl`](#-bind--dnssec_policy--max_zone_ttl)
* [`zone_propagation_delay`](#-bind--dnssec_policy--zone_propagation_delay)
* [`parent_ds_ttl`](#-bind--dnssec_policy--parent_ds_ttl)
* [`parent_propagation_delay`](#-bind--dnssec_policy--parent_propagation_delay)
* [`csk_lifetime`](#-bind--dnssec_policy--csk_lifetime)
* [`csk_algorithm`](#-bind--dnssec_policy--csk_algorithm)
* [`csk_keysize`](#-bind--dnssec_policy--csk_keysize)
* [`ksk_lifetime`](#-bind--dnssec_policy--ksk_lifetime)
* [`ksk_algorithm`](#-bind--dnssec_policy--ksk_algorithm)
* [`ksk_keysize`](#-bind--dnssec_policy--ksk_keysize)
* [`zsk_lifetime`](#-bind--dnssec_policy--zsk_lifetime)
* [`zsk_algorithm`](#-bind--dnssec_policy--zsk_algorithm)
* [`zsk_keysize`](#-bind--dnssec_policy--zsk_keysize)

##### <a name="-bind--dnssec_policy--policy"></a>`policy`

Data type: `String`

The name of the policy. This name will be referenced from the zone file.

Default value: `$name`

##### <a name="-bind--dnssec_policy--nsec3_enable"></a>`nsec3_enable`

Data type: `Boolean`

Should NSEC3 be used instead of NSEC.

Default value: `false`

##### <a name="-bind--dnssec_policy--nsec3param_iterations"></a>`nsec3param_iterations`

Data type: `Optional[Integer]`

The number of iterations for NSEC3.

Default value: `undef`

##### <a name="-bind--dnssec_policy--nsec3param_optout"></a>`nsec3param_optout`

Data type: `Optional[Boolean]`

Set optout for NSEC3.

Default value: `undef`

##### <a name="-bind--dnssec_policy--nsec3param_salt_length"></a>`nsec3param_salt_length`

Data type: `Optional[Integer]`

The length of the salt for NSEC3. The salt provides little value and each
DNS zone is always salted using the zone name. Therefore operators are
encouraged to use a value of zero for the salt length.

Default value: `undef`

##### <a name="-bind--dnssec_policy--dnskey_ttl"></a>`dnskey_ttl`

Data type: `Optional[Bind::Duration]`

The TTL for DNSKEY resource records in ISO8601 format.

Default value: `undef`

##### <a name="-bind--dnssec_policy--purge_keys"></a>`purge_keys`

Data type: `Optional[Bind::Duration]`

The time in ISO8601 format after which keys will be purged from the
configuraton after they have been deleted.

Default value: `undef`

##### <a name="-bind--dnssec_policy--publish_safety"></a>`publish_safety`

Data type: `Optional[Bind::Duration]`

A safety margin in ISO8601 format that is added to the pre-publication
interval when rollover times are calculated.

Default value: `undef`

##### <a name="-bind--dnssec_policy--retire_safety"></a>`retire_safety`

Data type: `Optional[Bind::Duration]`

A safety margin in ISO8601 format that is added to the post-publication
interval when rollover times are calculated.

Default value: `undef`

##### <a name="-bind--dnssec_policy--signatures_refresh"></a>`signatures_refresh`

Data type: `Optional[Bind::Duration]`

The time in ISO8601 format after which RRSIG records are refreshed.

Default value: `undef`

##### <a name="-bind--dnssec_policy--signatures_validity"></a>`signatures_validity`

Data type: `Optional[Bind::Duration]`

The time in ISO8601 format that an RRSIG record is valid.

Default value: `undef`

##### <a name="-bind--dnssec_policy--signatures_validity_dnskey"></a>`signatures_validity_dnskey`

Data type: `Optional[Bind::Duration]`

The time in ISO8601 format that an DNSKEY record is valid.

Default value: `undef`

##### <a name="-bind--dnssec_policy--max_zone_ttl"></a>`max_zone_ttl`

Data type: `Optional[Bind::Duration]`

The maximum TTL in ISO8601 format allowed for the zone.

Default value: `undef`

##### <a name="-bind--dnssec_policy--zone_propagation_delay"></a>`zone_propagation_delay`

Data type: `Optional[Bind::Duration]`

The expected propagation delay in ISO8601 format between updating a zone
and all secondary servers catching up with the change.

Default value: `undef`

##### <a name="-bind--dnssec_policy--parent_ds_ttl"></a>`parent_ds_ttl`

Data type: `Optional[Bind::Duration]`

The TTL of the DS RRSET of the parent zone in ISO8601 format .

Default value: `undef`

##### <a name="-bind--dnssec_policy--parent_propagation_delay"></a>`parent_propagation_delay`

Data type: `Optional[Bind::Duration]`

The expected propagation delay in ISO8601 format between a parent zone
update and all secondary servers catching up with the change.

Default value: `undef`

##### <a name="-bind--dnssec_policy--csk_lifetime"></a>`csk_lifetime`

Data type: `Optional[Bind::Key::Lifetime]`

The lifetime in ISO8601 format of a CSK key.

Default value: `undef`

##### <a name="-bind--dnssec_policy--csk_algorithm"></a>`csk_algorithm`

Data type: `Optional[Bind::DNSSEC::Algorithm]`

The algorithm used to generate the CSK key.

Default value: `undef`

##### <a name="-bind--dnssec_policy--csk_keysize"></a>`csk_keysize`

Data type: `Optional[Integer]`

The keysize used to generate the CSK key.

Default value: `undef`

##### <a name="-bind--dnssec_policy--ksk_lifetime"></a>`ksk_lifetime`

Data type: `Optional[Bind::Key::Lifetime]`

The lifetime in ISO8601 format of a KSK key.

Default value: `undef`

##### <a name="-bind--dnssec_policy--ksk_algorithm"></a>`ksk_algorithm`

Data type: `Optional[Bind::DNSSEC::Algorithm]`

The algorithm used to generate the KSK key.

Default value: `undef`

##### <a name="-bind--dnssec_policy--ksk_keysize"></a>`ksk_keysize`

Data type: `Optional[Integer]`

The keysize used to generate the KSK key.

Default value: `undef`

##### <a name="-bind--dnssec_policy--zsk_lifetime"></a>`zsk_lifetime`

Data type: `Optional[Bind::Key::Lifetime]`

The lifetime in ISO8601 format of a ZSK key.

Default value: `undef`

##### <a name="-bind--dnssec_policy--zsk_algorithm"></a>`zsk_algorithm`

Data type: `Optional[Bind::DNSSEC::Algorithm]`

The algorithm used to generate the ZSK key.

Default value: `undef`

##### <a name="-bind--dnssec_policy--zsk_keysize"></a>`zsk_keysize`

Data type: `Optional[Integer]`

The keysize used to generate the ZSK key.

Default value: `undef`

### <a name="bind--key"></a>`bind::key`

Manage secret keys

#### Examples

##### Using the defined type

```puppet

bind::key { 'rndc-key':
  secret  => 'secret',
  keyfile => '/etc/bind/rndc.key',
}
```

#### Parameters

The following parameters are available in the `bind::key` defined type:

* [`key`](#-bind--key--key)
* [`algorithm`](#-bind--key--algorithm)
* [`owner`](#-bind--key--owner)
* [`group`](#-bind--key--group)
* [`mode`](#-bind--key--mode)
* [`manage_keyfile`](#-bind--key--manage_keyfile)
* [`manage_content`](#-bind--key--manage_content)
* [`keyfile`](#-bind--key--keyfile)
* [`base64_secret`](#-bind--key--base64_secret)
* [`secret`](#-bind--key--secret)
* [`seed`](#-bind--key--seed)

##### <a name="-bind--key--key"></a>`key`

Data type: `String`

The name of the key.

Default value: `$name`

##### <a name="-bind--key--algorithm"></a>`algorithm`

Data type: `Bind::Key::Algorithm`

The algorithm to use for the encoding of the secret key. Can be one of:
`hmac-md5`, `hmac-sha1`, `hmac-sha224`, `hmac-sha256`, `hmac-sha384`,
`hmac-sha512`. The default is `hmac-sha256`.

Default value: `'hmac-sha256'`

##### <a name="-bind--key--owner"></a>`owner`

Data type: `String`

The file owner for the key file.

Default value: `'root'`

##### <a name="-bind--key--group"></a>`group`

Data type: `String`

The file group for the key file.

Default value: `$bind::bind_group`

##### <a name="-bind--key--mode"></a>`mode`

Data type: `Stdlib::Filemode`

The file mode for the key file.

Default value: `'0640'`

##### <a name="-bind--key--manage_keyfile"></a>`manage_keyfile`

Data type: `Boolean`

Should the key file be managed by this defined type. Set this to `false`
if you need to manage the key file from your own Puppet code. The code to
include the key file in the daemon configuration is still generated when
this parameter is false.

Default value: `true`

##### <a name="-bind--key--manage_content"></a>`manage_content`

Data type: `Boolean`

Should the content of the key file be managed by this defined type. Set
this to `false` if you want to manage file permissions but do not want to
manage the content of the file. This is useful for the key file used by
the `rndc` utility. Normally a secret key for `rndc` is created during
installation. Updating this key with Puppet creates a problem since the
service can't be restarted cleanly after the file has been changed when
the daemon still uses the old secret. So the key for the `rndc` tool is
best left alone. The code to include the key file in the daemon
configuration is still generated when this parameter is false.

Default value: `true`

##### <a name="-bind--key--keyfile"></a>`keyfile`

Data type: `Optional[Stdlib::Absolutepath]`

Set this parameter to a file name if you need to reference the key from
other tools (like 'rndc'). In this case the file with the key will be
saved in the named file. Otherwise a a system selected file will be used.

Default value: `undef`

##### <a name="-bind--key--base64_secret"></a>`base64_secret`

Data type: `Optional[String]`

A base64 encoded secret to copy verbatim into the key. The parameters
secret and seed are ignored if this parameter is set.

Default value: `undef`

##### <a name="-bind--key--secret"></a>`secret`

Data type: `Optional[String]`

The secret to use for the key. A random secret is created internally if
this parameter is not set.

Default value: `undef`

##### <a name="-bind--key--seed"></a>`seed`

Data type: `Optional[String]`

An optional seed to use if the random secret is created internally.

Default value: `undef`

### <a name="bind--listen_on"></a>`bind::listen_on`

Manage listen-on option clause

#### Examples

##### Listen on the loopback interface

```puppet

listen_on { '127.0.0.1': }
```

##### Listen on two interfaces

```puppet

listen_on { 'IPv4':
  address => [ '10.0.0.1', '192.168.0.1' ],
}
```

##### Listen on a non-default port

```puppet

listen_on { '127.0.0.1':
  port    => 8053,
}
```

#### Parameters

The following parameters are available in the `bind::listen_on` defined type:

* [`address`](#-bind--listen_on--address)
* [`port`](#-bind--listen_on--port)

##### <a name="-bind--listen_on--address"></a>`address`

Data type: `Bind::AddressMatchList`

A single string or an array of strings to define the port and IP
address(es) on which the daemon will listen for queries. The string `any`
may be used to listen on all available interfaces and addresses. The
string `none` may be used to disable IPv4.

Default value: `$name`

##### <a name="-bind--listen_on--port"></a>`port`

Data type: `Optional[Stdlib::Port]`

The port number on which the daemon will listen. Port 53 will be used if
this is not defined.

Default value: `undef`

### <a name="bind--listen_on_v6"></a>`bind::listen_on_v6`

Manage listen-on-v6 option clause

#### Examples

##### Listen on the IPv6 loopback interface

```puppet

listen_on_v6 { '::1': }
```

##### Listen on a non-default port

```puppet

listen_on_v6 { '::1':
  port => 8053,
}
```

#### Parameters

The following parameters are available in the `bind::listen_on_v6` defined type:

* [`address`](#-bind--listen_on_v6--address)
* [`port`](#-bind--listen_on_v6--port)

##### <a name="-bind--listen_on_v6--address"></a>`address`

Data type: `Variant[String,Array[String,1]]`

A single string or an array of strings to define the port and IP
address(es) on which the daemon will listen for queries. The string `any`
may be used to listen on all available interfaces and addresses. The
string `none` may be used to disable IPv6.

Default value: `$name`

##### <a name="-bind--listen_on_v6--port"></a>`port`

Data type: `Optional[Stdlib::Port]`

The port number on which the daemon will listen. Port 53 will be used if
this is not defined.

Default value: `undef`

### <a name="bind--logging--category"></a>`bind::logging::category`

Manage logging category

#### Examples

##### Use a single channel

```puppet

bind::logging::category { 'default':
  channels => 'syslog',
}
```

##### Use multiple channels

```puppet

bind::logging::category { 'default':
  channels => [ 'syslog', 'file', ],
}
```

#### Parameters

The following parameters are available in the `bind::logging::category` defined type:

* [`channels`](#-bind--logging--category--channels)
* [`category`](#-bind--logging--category--category)
* [`order`](#-bind--logging--category--order)

##### <a name="-bind--logging--category--channels"></a>`channels`

Data type: `Variant[String,Array[String]]`

A string or an array of strings to define the channels to use for this
category.

##### <a name="-bind--logging--category--category"></a>`category`

Data type: `String`

The logging category.

Default value: `$name`

##### <a name="-bind--logging--category--order"></a>`order`

Data type: `String`

A string to use for ordering different categories in the configuration
file.

Default value: `'50'`

### <a name="bind--logging--channel_file"></a>`bind::logging::channel_file`

Manage logging channel to a logfile

#### Examples

##### Define a logfile channel for Bind9

```puppet

bind::logging::channel_file { 'security':
  logfile => '/var/lob/bind/security',
}
```

#### Parameters

The following parameters are available in the `bind::logging::channel_file` defined type:

* [`logfile`](#-bind--logging--channel_file--logfile)
* [`mode`](#-bind--logging--channel_file--mode)
* [`channel`](#-bind--logging--channel_file--channel)
* [`severity`](#-bind--logging--channel_file--severity)
* [`print_category`](#-bind--logging--channel_file--print_category)
* [`print_severity`](#-bind--logging--channel_file--print_severity)
* [`print_time`](#-bind--logging--channel_file--print_time)
* [`size`](#-bind--logging--channel_file--size)
* [`versions`](#-bind--logging--channel_file--versions)

##### <a name="-bind--logging--channel_file--logfile"></a>`logfile`

Data type: `Stdlib::Absolutepath`

The filename where the logs are written to.

##### <a name="-bind--logging--channel_file--mode"></a>`mode`

Data type: `Stdlib::Filemode`

The file mode of the logfile. The default allows access only for the user
and group runnung the daemon.

Default value: `'0640'`

##### <a name="-bind--logging--channel_file--channel"></a>`channel`

Data type: `String`

The name of the channel for the logfile. Use bind::logging::category to
route a given category to this channel.

Default value: `$name`

##### <a name="-bind--logging--channel_file--severity"></a>`severity`

Data type: `Bind::Syslog::Severity`

The severity of log messages that are written to the file. Valid values:
`critical`, `error`, `warning`, `notice`, `info`, `debug`, `dynamic`.

Default value: `'notice'`

##### <a name="-bind--logging--channel_file--print_category"></a>`print_category`

Data type: `Boolean`

Should the category of the message be logged to the file.

Default value: `true`

##### <a name="-bind--logging--channel_file--print_severity"></a>`print_severity`

Data type: `Boolean`

Should the severity of the message be logged to the file.

Default value: `true`

##### <a name="-bind--logging--channel_file--print_time"></a>`print_time`

Data type: `Boolean`

Should a timestamp be logged to the file.

Default value: `true`

##### <a name="-bind--logging--channel_file--size"></a>`size`

Data type: `Optional[String]`

The maximum size of the logfile. Log rotation takes place if this size is
reached. If the size is undefined then the logfile will not be rotated.

Default value: `undef`

##### <a name="-bind--logging--channel_file--versions"></a>`versions`

Data type: `Optional[Integer]`

The number of logfiles to keep if log rotation is used.

Default value: `undef`

### <a name="bind--logging--channel_syslog"></a>`bind::logging::channel_syslog`

Manage logging channel to syslog

#### Examples

##### Define a syslog channel for Bind9

```puppet

bind::logging::channel_syslog { 'syslog':
  facility => 'local0',
  severity => 'info',
}
```

#### Parameters

The following parameters are available in the `bind::logging::channel_syslog` defined type:

* [`channel`](#-bind--logging--channel_syslog--channel)
* [`facility`](#-bind--logging--channel_syslog--facility)
* [`severity`](#-bind--logging--channel_syslog--severity)
* [`print_category`](#-bind--logging--channel_syslog--print_category)
* [`print_severity`](#-bind--logging--channel_syslog--print_severity)
* [`print_time`](#-bind--logging--channel_syslog--print_time)

##### <a name="-bind--logging--channel_syslog--channel"></a>`channel`

Data type: `String`

The name of the channel. Use bind::logging::category to route a given
category to this channel.

Default value: `$name`

##### <a name="-bind--logging--channel_syslog--facility"></a>`facility`

Data type: `Bind::Syslog::Facility`

The syslog facility to use. Valid value: `auth`, `authpriv`, `cron`,
`daemon`, `ftp`, `kern`, `local0`, `local1`, `local2`, `local3`,
`local4`, `local5`, `local6`, `local7`, `lpr`, `mail`, `news`, `syslog`,
`user`, `uucp`.

Default value: `'daemon'`

##### <a name="-bind--logging--channel_syslog--severity"></a>`severity`

Data type: `Bind::Syslog::Severity`

The severity of log messages that are written to the file. Valid values:
`critical`, `error`, `warning`, `notice`, `info`, `debug`, `dynamic`.

Default value: `'notice'`

##### <a name="-bind--logging--channel_syslog--print_category"></a>`print_category`

Data type: `Optional[Boolean]`

Should the category of the message be logged to the file.

Default value: `undef`

##### <a name="-bind--logging--channel_syslog--print_severity"></a>`print_severity`

Data type: `Optional[Boolean]`

Should the severity of the message be logged to the file.

Default value: `undef`

##### <a name="-bind--logging--channel_syslog--print_time"></a>`print_time`

Data type: `Optional[Boolean]`

Should a timestamp be logged to the file.

Default value: `undef`

### <a name="bind--statistics_channel"></a>`bind::statistics_channel`

Manage statistics channel

#### Examples

##### Create a statistics channel for localhost access

```puppet

bind::statistics_channel { '127.0.0.1':
  port  => 8053,
  allow => [ '127.0.0.1', ],
}
```

#### Parameters

The following parameters are available in the `bind::statistics_channel` defined type:

* [`port`](#-bind--statistics_channel--port)
* [`allow`](#-bind--statistics_channel--allow)
* [`ip`](#-bind--statistics_channel--ip)

##### <a name="-bind--statistics_channel--port"></a>`port`

Data type: `Optional[Stdlib::Port]`

The port number to listen on. If no port is specified, port 80 is used.

Default value: `undef`

##### <a name="-bind--statistics_channel--allow"></a>`allow`

Data type: `Array[String]`

An array of IP addresses that are allowed to query the statistics. If
this parameter is not set, all remote addresses are permitted to use the
statistics channel.

Default value: `[]`

##### <a name="-bind--statistics_channel--ip"></a>`ip`

Data type: `String`

The IP address to listen on. This can be an IPv4 address or an IPv6
address if IPv6 is in use. An address of `*` is interpreted as the IPv4
wildcard address.

Default value: `$name`

### <a name="bind--view"></a>`bind::view`

Manage a view

#### Examples

##### Create a view for a guest network

```puppet

bind::view { 'guest':
  match_clients   => [ 'guest' ],
  allow_recursion => [ 'any' ],
}
```

#### Parameters

The following parameters are available in the `bind::view` defined type:

* [`match_clients`](#-bind--view--match_clients)
* [`match_destinations`](#-bind--view--match_destinations)
* [`allow_query`](#-bind--view--allow_query)
* [`allow_query_on`](#-bind--view--allow_query_on)
* [`recursion`](#-bind--view--recursion)
* [`match_recursive_only`](#-bind--view--match_recursive_only)
* [`allow_recursion`](#-bind--view--allow_recursion)
* [`allow_recursion_on`](#-bind--view--allow_recursion_on)
* [`allow_query_cache`](#-bind--view--allow_query_cache)
* [`allow_query_cache_on`](#-bind--view--allow_query_cache_on)
* [`allow_transfer`](#-bind--view--allow_transfer)
* [`root_hints_enable`](#-bind--view--root_hints_enable)
* [`root_mirror_enable`](#-bind--view--root_mirror_enable)
* [`localhost_forward_enable`](#-bind--view--localhost_forward_enable)
* [`localhost_reverse_enable`](#-bind--view--localhost_reverse_enable)
* [`view`](#-bind--view--view)
* [`order`](#-bind--view--order)

##### <a name="-bind--view--match_clients"></a>`match_clients`

Data type: `Array[String]`

An array of ACL names or networks that this view will be used for.

Default value: `['any',]`

##### <a name="-bind--view--match_destinations"></a>`match_destinations`

Data type: `Array[String]`

An array of ACL names or networks. The view is used if the query
destination matches this list.

Default value: `[]`

##### <a name="-bind--view--allow_query"></a>`allow_query`

Data type: `Array[String]`

An array of ACL names or networks that are allowed to query the view.

Default value: `['any',]`

##### <a name="-bind--view--allow_query_on"></a>`allow_query_on`

Data type: `Array[String]`

An array of interfaces on the DNS server from which queries are accepted.

Default value: `[]`

##### <a name="-bind--view--recursion"></a>`recursion`

Data type: `Boolean`

Should recursion be enabled for this view.

Default value: `true`

##### <a name="-bind--view--match_recursive_only"></a>`match_recursive_only`

Data type: `Boolean`

Should this view be used for recursive queried only.

Default value: `false`

##### <a name="-bind--view--allow_recursion"></a>`allow_recursion`

Data type: `Array[String]`

An array of ACL names or networks for which recursive queries are
allowed.

Default value: `[]`

##### <a name="-bind--view--allow_recursion_on"></a>`allow_recursion_on`

Data type: `Array[String]`

An array of interfaces on the DNS server from which recursive queries are
accepted.

Default value: `[]`

##### <a name="-bind--view--allow_query_cache"></a>`allow_query_cache`

Data type: `Array[String]`

An array of ACL names or networks for which access to the cache is
allowed.

Default value: `[]`

##### <a name="-bind--view--allow_query_cache_on"></a>`allow_query_cache_on`

Data type: `Array[String]`

An array of interfaces on the DNS server from which access to the cache
is allowed.

Default value: `[]`

##### <a name="-bind--view--allow_transfer"></a>`allow_transfer`

Data type: `Array[String]`

An array of ACL names or networks that are allowed to transfer zone
information from this server.

Default value: `[]`

##### <a name="-bind--view--root_hints_enable"></a>`root_hints_enable`

Data type: `Boolean`

Should a local copy of the list of servers that are authoritative for the
root domain "." be included. This is normally not needed since Bind
contains an internal list of root nameservers and `named` will query the
servers in the list until an authoritative response is received. Normally
this parameter can be left at default.

Default value: `false`

##### <a name="-bind--view--root_mirror_enable"></a>`root_mirror_enable`

Data type: `Boolean`

Should a mirror for the root domain "." be installed locally. See RFC
7706 for details.

Default value: `false`

##### <a name="-bind--view--localhost_forward_enable"></a>`localhost_forward_enable`

Data type: `Optional[Boolean]`

Should the forward zone for localhost be enabled in this view.

Default value: `undef`

##### <a name="-bind--view--localhost_reverse_enable"></a>`localhost_reverse_enable`

Data type: `Optional[Boolean]`

Should the reverse zone for localhost be enabled in this view.

Default value: `undef`

##### <a name="-bind--view--view"></a>`view`

Data type: `String`

The name of the view.

Default value: `$name`

##### <a name="-bind--view--order"></a>`order`

Data type: `String`

The order in which different views are configured. The first matching
view is used to answer the query for a client. If you use one view where
match_clients contains `any` then this view should probably have the
highest order value.

Default value: `'10'`

### <a name="bind--zone--forward"></a>`bind::zone::forward`

Manage a forward zone

#### Examples

##### Using the defined type

```puppet

bind::zone::forward { 'example.com':
  forwarders => [ '192.168.1.1', '192.168.1.2', ],
  forward    => 'only',
}
```

#### Parameters

The following parameters are available in the `bind::zone::forward` defined type:

* [`forwarders`](#-bind--zone--forward--forwarders)
* [`forward`](#-bind--zone--forward--forward)
* [`view`](#-bind--zone--forward--view)
* [`comment`](#-bind--zone--forward--comment)
* [`zone`](#-bind--zone--forward--zone)
* [`class`](#-bind--zone--forward--class)
* [`order`](#-bind--zone--forward--order)

##### <a name="-bind--zone--forward--forwarders"></a>`forwarders`

Data type: `Array[String]`

An array of strings that define the forwarding servers for this zone.
All queries for the zone will be forwarded to these servers.

Default value: `[]`

##### <a name="-bind--zone--forward--forward"></a>`forward`

Data type: `Optional[Bind::Forward]`

Only forward queries (value `only`) or try to resolve if forwarders do
not answer the query (value `first`).

Default value: `undef`

##### <a name="-bind--zone--forward--view"></a>`view`

Data type: `Optional[String]`

The name of the view that should include this zone. Must be set if views
are used.

Default value: `undef`

##### <a name="-bind--zone--forward--comment"></a>`comment`

Data type: `Optional[String]`

A comment to add to the zone file.

Default value: `undef`

##### <a name="-bind--zone--forward--zone"></a>`zone`

Data type: `String`

The name of the zone.

Default value: `$name`

##### <a name="-bind--zone--forward--class"></a>`class`

Data type: `Bind::Zone::Class`

The zone class.

Default value: `'IN'`

##### <a name="-bind--zone--forward--order"></a>`order`

Data type: `String`

Zones are ordered by this parameter value in the zone file.

Default value: `'40'`

### <a name="bind--zone--hint"></a>`bind::zone::hint`

Manage a hint zone

#### Examples

##### Using the defined type

```puppet

bind::zone::hint { '.':
  file => '/etc/bind/db.root',
}
```

#### Parameters

The following parameters are available in the `bind::zone::hint` defined type:

* [`file`](#-bind--zone--hint--file)
* [`view`](#-bind--zone--hint--view)
* [`comment`](#-bind--zone--hint--comment)
* [`zone`](#-bind--zone--hint--zone)
* [`class`](#-bind--zone--hint--class)
* [`order`](#-bind--zone--hint--order)

##### <a name="-bind--zone--hint--file"></a>`file`

Data type: `String`

The filename of the hint file.

##### <a name="-bind--zone--hint--view"></a>`view`

Data type: `Optional[String]`

The name of the view that should include this zone. Must be set if views
are used.

Default value: `undef`

##### <a name="-bind--zone--hint--comment"></a>`comment`

Data type: `Optional[String]`

A comment to add to the zone file.

Default value: `undef`

##### <a name="-bind--zone--hint--zone"></a>`zone`

Data type: `String`

The name of the zone.

Default value: `$name`

##### <a name="-bind--zone--hint--class"></a>`class`

Data type: `Bind::Zone::Class`

The zone class.

Default value: `'IN'`

##### <a name="-bind--zone--hint--order"></a>`order`

Data type: `String`

Zones are ordered by this parameter value in the zone file.

Default value: `'10'`

### <a name="bind--zone--in_view"></a>`bind::zone::in_view`

Manage a in-view zone reference

#### Examples

##### Using the defined type

```puppet

bind::zone::in_view { 'example.com':
  view    => 'internal',
  in_view => 'external',
}
```

#### Parameters

The following parameters are available in the `bind::zone::in_view` defined type:

* [`in_view`](#-bind--zone--in_view--in_view)
* [`view`](#-bind--zone--in_view--view)
* [`comment`](#-bind--zone--in_view--comment)
* [`zone`](#-bind--zone--in_view--zone)
* [`class`](#-bind--zone--in_view--class)
* [`order`](#-bind--zone--in_view--order)

##### <a name="-bind--zone--in_view--in_view"></a>`in_view`

Data type: `String`

The name of the view where the referenced view is defined.

##### <a name="-bind--zone--in_view--view"></a>`view`

Data type: `String`

The name of the view that should include this zone.

##### <a name="-bind--zone--in_view--comment"></a>`comment`

Data type: `Optional[String]`

A comment to add to the zone file.

Default value: `undef`

##### <a name="-bind--zone--in_view--zone"></a>`zone`

Data type: `String`

The name of the zone.

Default value: `$name`

##### <a name="-bind--zone--in_view--class"></a>`class`

Data type: `Bind::Zone::Class`

The zone class.

Default value: `'IN'`

##### <a name="-bind--zone--in_view--order"></a>`order`

Data type: `String`

Zones are ordered by this parameter value in the zone file.

Default value: `'60'`

### <a name="bind--zone--mirror"></a>`bind::zone::mirror`

Manage a mirror zone

#### Examples

##### Using the defined type

```puppet

bind::zone::mirror { '.':
}
```

#### Parameters

The following parameters are available in the `bind::zone::mirror` defined type:

* [`view`](#-bind--zone--mirror--view)
* [`comment`](#-bind--zone--mirror--comment)
* [`zone`](#-bind--zone--mirror--zone)
* [`class`](#-bind--zone--mirror--class)
* [`order`](#-bind--zone--mirror--order)

##### <a name="-bind--zone--mirror--view"></a>`view`

Data type: `Optional[String]`

The name of the view that should include this zone. Must be set if views
are used.

Default value: `undef`

##### <a name="-bind--zone--mirror--comment"></a>`comment`

Data type: `Optional[String]`

A comment to add to the zone file.

Default value: `undef`

##### <a name="-bind--zone--mirror--zone"></a>`zone`

Data type: `String`

The name of the zone.

Default value: `$name`

##### <a name="-bind--zone--mirror--class"></a>`class`

Data type: `Bind::Zone::Class`

The zone class.

Default value: `'IN'`

##### <a name="-bind--zone--mirror--order"></a>`order`

Data type: `String`

Zones are ordered by this parameter value in the zone file.

Default value: `'50'`

### <a name="bind--zone--primary"></a>`bind::zone::primary`

The parameters `source` or `content` can be used to have Puppet manage the
content of the zone file. No content is managed if both parameters are left
undefined. For a dynamic updatable zone the parameters `source` and
`content` are only applied if the zone file does not yet exist. This can be
used to deploy a zone file template on the first Puppet run and have Bind
manage the content subsequently.

#### Examples

##### Create a primary zone

```puppet

bind::zone::primary { 'example.com':
  source => 'puppet:///modules/profile/example.com.zone',
}
```

##### Use DNSSEC signing for a primary zone using a DNSSEC policy

```puppet

bind::zone::primary { 'example.com':
  dnssec_enable  => true,
  dnssec_policy  => 'standard',
  inline_signing => true,
  source         => 'puppet:///modules/profile/example.com.zone',
}
```

##### Create a dynamic updatable zone with an initial zone file

```puppet

bind::zone::primary { '_acme-challenge.example.com':
  update_policy => ['grant certbot name _acme-challenge.example.com. txt'],
  source        => 'puppet:///modules/profile/acme-template.zone',
}
```

#### Parameters

The following parameters are available in the `bind::zone::primary` defined type:

* [`also_notify`](#-bind--zone--primary--also_notify)
* [`update_policy`](#-bind--zone--primary--update_policy)
* [`dnssec_enable`](#-bind--zone--primary--dnssec_enable)
* [`dnssec_dnskey_kskonly`](#-bind--zone--primary--dnssec_dnskey_kskonly)
* [`dnssec_secure_to_insecure`](#-bind--zone--primary--dnssec_secure_to_insecure)
* [`inline_signing`](#-bind--zone--primary--inline_signing)
* [`dnssec_policy`](#-bind--zone--primary--dnssec_policy)
* [`dnskey_sig_validity`](#-bind--zone--primary--dnskey_sig_validity)
* [`dnssec_loadkeys_interval`](#-bind--zone--primary--dnssec_loadkeys_interval)
* [`dnssec_update_mode`](#-bind--zone--primary--dnssec_update_mode)
* [`auto_dnssec`](#-bind--zone--primary--auto_dnssec)
* [`notify_secondaries`](#-bind--zone--primary--notify_secondaries)
* [`view`](#-bind--zone--primary--view)
* [`file`](#-bind--zone--primary--file)
* [`source`](#-bind--zone--primary--source)
* [`content`](#-bind--zone--primary--content)
* [`zone_statistics`](#-bind--zone--primary--zone_statistics)
* [`comment`](#-bind--zone--primary--comment)
* [`append_view`](#-bind--zone--primary--append_view)
* [`zone`](#-bind--zone--primary--zone)
* [`class`](#-bind--zone--primary--class)
* [`order`](#-bind--zone--primary--order)

##### <a name="-bind--zone--primary--also_notify"></a>`also_notify`

Data type: `Array[String]`

Secondary servers that should be notified in addition to the
nameservers that are listed in the zone file.

Default value: `[]`

##### <a name="-bind--zone--primary--update_policy"></a>`update_policy`

Data type: `Variant[Enum['local'],Array[String]]`

Enable dynamic updates for the zone and define the update policy. This
can either be the string `local` or an array of strings. Using the string
`local` enables an automatically created session key `local-ddns` stored
on the server. Otherwise the array should contain individual `grant` or
`deny` rules.

The zone file content can not be managed by Puppet for a dynamic zone. If
the parameters `source` or `content` are set, the zone file will only be
created by Puppet initially if it does not exist. An existing zone file
will not be overwritten by Puppet.

Default value: `[]`

##### <a name="-bind--zone--primary--dnssec_enable"></a>`dnssec_enable`

Data type: `Optional[Boolean]`

Enable DNSSEC for the zone. This parameter is ignored for Bind 9.16.0 or
later.

Default value: `undef`

##### <a name="-bind--zone--primary--dnssec_dnskey_kskonly"></a>`dnssec_dnskey_kskonly`

Data type: `Optional[Boolean]`

Should only key-signing keys be used to to sign the DNSKEY, CDNSKEY and
CDSRRsets.

Default value: `undef`

##### <a name="-bind--zone--primary--dnssec_secure_to_insecure"></a>`dnssec_secure_to_insecure`

Data type: `Optional[Boolean]`

Should the zone be allowed to got from signed to unsinged.

Default value: `undef`

##### <a name="-bind--zone--primary--inline_signing"></a>`inline_signing`

Data type: `Optional[Boolean]`

Enable inline signing for the zone.

Default value: `undef`

##### <a name="-bind--zone--primary--dnssec_policy"></a>`dnssec_policy`

Data type: `Optional[String]`

The name of the DNSSEC policy to use for this zone. The policy must be
created using the `bind::dnssec_policy` defined type.

Default value: `undef`

##### <a name="-bind--zone--primary--dnskey_sig_validity"></a>`dnskey_sig_validity`

Data type: `Optional[Integer]`

The number of days after which the signatures for generated DNSKEY RRsets
expire.

Default value: `undef`

##### <a name="-bind--zone--primary--dnssec_loadkeys_interval"></a>`dnssec_loadkeys_interval`

Data type: `Optional[Integer]`

The time interval after which key are checked if `auto_dnssec` is set to
`maintain`. The value is in minutes.

Default value: `undef`

##### <a name="-bind--zone--primary--dnssec_update_mode"></a>`dnssec_update_mode`

Data type: `Optional[Bind::DNSSEC::Updatemode]`

Should RRSIG records be regenerated automatically (mode `maintain`) or
not (mode `no-resign`) for a zone which allows dynamic updates.

Default value: `undef`

##### <a name="-bind--zone--primary--auto_dnssec"></a>`auto_dnssec`

Data type: `Optional[Bind::Auto_dnssec]`

How to sign and resign the DNSSEC zone. Can be one of `allow`, `maintain`
or `off`.

Default value: `undef`

##### <a name="-bind--zone--primary--notify_secondaries"></a>`notify_secondaries`

Data type: `Optional[Bind::Notify_secondaries]`

Should NOTIFY messages be sent out to the name servers defined in the NS
records for the zone. The messages are sent to all name servers except
itself and the primary name server defined in the SOA record and to any
IPs listed in any also-notify statement. Can be either `yes`, `no` or
`explicit`.

Default value: `undef`

##### <a name="-bind--zone--primary--view"></a>`view`

Data type: `Optional[String]`

The name of the view that should include this zone. Must be set if views
are used.

Default value: `undef`

##### <a name="-bind--zone--primary--file"></a>`file`

Data type: `Optional[String]`

The name of the user managed zone file on the DNS server. The file must
exist and have the correct format. Puppet does not manage the content or
the file permissions of this file.

Default value: `undef`

##### <a name="-bind--zone--primary--source"></a>`source`

Data type: `Optional[String]`

The source for the zone file. See the standard Puppet file type.

Default value: `undef`

##### <a name="-bind--zone--primary--content"></a>`content`

Data type: `Optional[String]`

The content for the zone file. See the standard Puppet file type.

Default value: `undef`

##### <a name="-bind--zone--primary--zone_statistics"></a>`zone_statistics`

Data type: `Optional[Boolean]`

Collect statistics for this zone.

Default value: `undef`

##### <a name="-bind--zone--primary--comment"></a>`comment`

Data type: `Optional[String]`

A comment to add to the zone file.

Default value: `undef`

##### <a name="-bind--zone--primary--append_view"></a>`append_view`

Data type: `Boolean`

Should the view name be appended to the name of the zone file. This may
be necessary if you want to have the same domain name in multiple views.
Only valid when 'view' is set.

Default value: `false`

##### <a name="-bind--zone--primary--zone"></a>`zone`

Data type: `String`

The name of the zone.

Default value: `$name`

##### <a name="-bind--zone--primary--class"></a>`class`

Data type: `Bind::Zone::Class`

The zone class.

Default value: `'IN'`

##### <a name="-bind--zone--primary--order"></a>`order`

Data type: `String`

Zones are ordered by this parameter value in the zone file.

Default value: `'20'`

### <a name="bind--zone--secondary"></a>`bind::zone::secondary`

Manage a secondary zone

#### Examples

##### Create a secondary zone

```puppet

bind::zone::secondary { 'example.com':
  masters => [ '192.168.1.1', ],
}
```

#### Parameters

The following parameters are available in the `bind::zone::secondary` defined type:

* [`masters`](#-bind--zone--secondary--masters)
* [`view`](#-bind--zone--secondary--view)
* [`zone_statistics`](#-bind--zone--secondary--zone_statistics)
* [`multi_master`](#-bind--zone--secondary--multi_master)
* [`comment`](#-bind--zone--secondary--comment)
* [`append_view`](#-bind--zone--secondary--append_view)
* [`zone`](#-bind--zone--secondary--zone)
* [`class`](#-bind--zone--secondary--class)
* [`order`](#-bind--zone--secondary--order)

##### <a name="-bind--zone--secondary--masters"></a>`masters`

Data type: `Array[String,1]`

An array of strings that define the master servers for this zone.
There must be at least one master server for a secondary zone.

##### <a name="-bind--zone--secondary--view"></a>`view`

Data type: `Optional[String]`

The name of the view that should include this zone. Must be set if views
are used.

Default value: `undef`

##### <a name="-bind--zone--secondary--zone_statistics"></a>`zone_statistics`

Data type: `Optional[Boolean]`

Collect statistics for this zone.

Default value: `undef`

##### <a name="-bind--zone--secondary--multi_master"></a>`multi_master`

Data type: `Optional[Boolean]`

If the zone has multiple primaries and the serial might be
different for the masters then named normally logs a message. Set
this to `true` to disable the message in this case.

Default value: `undef`

##### <a name="-bind--zone--secondary--comment"></a>`comment`

Data type: `Optional[String]`

A comment to add to the zone file.

Default value: `undef`

##### <a name="-bind--zone--secondary--append_view"></a>`append_view`

Data type: `Boolean`

Should the view name be appended to the name of the zone file. This may
be necessary if you want to have the same domain name in multiple views.
Only valid when 'view' is set.

Default value: `false`

##### <a name="-bind--zone--secondary--zone"></a>`zone`

Data type: `String`

The name of the zone.

Default value: `$name`

##### <a name="-bind--zone--secondary--class"></a>`class`

Data type: `Bind::Zone::Class`

The zone class.

Default value: `'IN'`

##### <a name="-bind--zone--secondary--order"></a>`order`

Data type: `String`

Zones are ordered by this parameter value in the zone file.

Default value: `'30'`

## Resource types

### <a name="dnssec_key"></a>`dnssec_key`

*Notice*: Automatic key rollover using this type is not thoroughly
tested. Use `bind::dnssec_policy` to define a DNSSEC policy (available
with Bind 9.16) and let Bind handle the heavy lifting instead of Puppet.

All intervals are interpreted as seconds if no unit is given. The
following interval units can be used: `y` (year), `mo` (months), `w`
(weeks), `d` (days), `h` (hours), `mi` (minutes).

Examples for valid intervals: `1y`, `12mo`, `1w`, `7d`, `24h`, `720mi`

The following diagram illustrates the lifecycle of the keys:

```
key-1 ---- active ----------><-- retired --><-- deleted --

key-2     <--- published ---><---------- active ----------><-- retired

          <----------------->
            prepublication
               interval
```

Key-2 is published with a prepublication interval while key-1 is still
active. The activation time of key-2 matches the deactivation time of
key-1. Key-1 changes state to retired when it is deactivated and is
deleted eventually. The cycle continues with additional keys.

#### Examples

##### Create a Key Signing Key using defaults

```puppet
dnssec_key { 'example.com':
  key_directory => '/etc/bind/keys',
  ksk           => true,
}
```

##### Create a Zone Signing Key using a specified algorithm and key size

```puppet
dnssec_key { 'ZSK/example.com':
  zone          => 'example.com',
  key_directory => '/etc/bind/keys',
  algorithm     => 'RSASHA256',
  bits          => 2048,
}
```

##### Create Zone Signing Keys using automatic key rollover

```puppet
dnssec_key { 'ZSK/example.com':
  zone          => 'example.com',
  key_directory => '/etc/bind/keys',
  publish       => '2w',
  active        => '1y',
  retire        => '4w',
  delete        => '1w',
  successor     => true,
}
```

#### Properties

The following properties are available in the `dnssec_key` type.

##### `ensure`

Valid values: `present`, `absent`

Specifies whether the destination file should exist. Setting this to
"absent" tells Puppet to delete the destination file if it exists, and
negates the effect of any other parameters.

Default value: `present`

#### Parameters

The following parameters are available in the `dnssec_key` type.

* [`active`](#-dnssec_key--active)
* [`algorithm`](#-dnssec_key--algorithm)
* [`bits`](#-dnssec_key--bits)
* [`key_directory`](#-dnssec_key--key_directory)
* [`ksk`](#-dnssec_key--ksk)
* [`name`](#-dnssec_key--name)
* [`nsec3`](#-dnssec_key--nsec3)
* [`precreate`](#-dnssec_key--precreate)
* [`prepublish`](#-dnssec_key--prepublish)
* [`provider`](#-dnssec_key--provider)
* [`purge`](#-dnssec_key--purge)
* [`retire`](#-dnssec_key--retire)
* [`revoke`](#-dnssec_key--revoke)
* [`rrtype`](#-dnssec_key--rrtype)
* [`successor`](#-dnssec_key--successor)
* [`zone`](#-dnssec_key--zone)

##### <a name="-dnssec_key--active"></a>`active`

Valid values: `%r{^[0-9]+(y|mo|w|d|h|mi)?$}`

The time interval that the key will be used for signing the zone.

##### <a name="-dnssec_key--algorithm"></a>`algorithm`

Valid values: `DSA`, `ECCGOST`, `ECDSAP256SHA256`, `ECDSAP384SHA384`, `ED25519`, `ED448`, `NSEC3DSA`, `NSEC3RSASHA1`, `RSAMD5`, `RSASHA1`, `RSASHA256`, `RSASHA512`

The cryptographic algorithm that the key should use.

Default value: `RSASHA1`

##### <a name="-dnssec_key--bits"></a>`bits`

Valid values: `%r{^[0-9]+$}`

The number of bits in the key. The possible range depends on the
selected algorithm:

RSA  : 512 .. 2048
DH   : 128 .. 4096
DSA  : 512 .. 1024 and an exact multiple of 64
HMAC :   1 ..  512

Elliptic curve algorithms don't need this parameter.

##### <a name="-dnssec_key--key_directory"></a>`key_directory`

The directory where the key should be created. This parameter is
mandatory.

##### <a name="-dnssec_key--ksk"></a>`ksk`

Valid values: `true`, `false`

Whether the key should be a Key Signing Key.

Default value: `false`

##### <a name="-dnssec_key--name"></a>`name`

namevar

The name of the resource.

##### <a name="-dnssec_key--nsec3"></a>`nsec3`

Valid values: `true`, `false`

Whether the key should be NSEC3-capable.

Default value: `false`

##### <a name="-dnssec_key--precreate"></a>`precreate`

Valid values: `%r{^[0-9]+(y|mo|w|d|h|mi)?$}`

The time interval before prepublication in which the key will be
created. The interval must be long enough to ensure Puppet will run
during this interval.

##### <a name="-dnssec_key--prepublish"></a>`prepublish`

Valid values: `%r{^[0-9]+(y|mo|w|d|h|mi)?$}`

The time interval before activation when the key will be published.

##### <a name="-dnssec_key--provider"></a>`provider`

The specific backend to use for this `dnssec_key` resource. You will seldom need to specify this --- Puppet will usually
discover the appropriate provider for your platform.

##### <a name="-dnssec_key--purge"></a>`purge`

Valid values: `true`, `false`

Whether old keys should be purged after they are retired.

Default value: `false`

##### <a name="-dnssec_key--retire"></a>`retire`

Valid values: `%r{^[0-9]+(y|mo|w|d|h|mi)?$}`

The time interval that the key is still published after it became
inactive.

##### <a name="-dnssec_key--revoke"></a>`revoke`

Valid values: `%r{^[0-9]+(y|mo|w|d|h|mi)?$}`

The time interval that the key will have the revoke bit set. This
parameter may only be used for zone-signing keys.

##### <a name="-dnssec_key--rrtype"></a>`rrtype`

Valid values: `DNSKEY`, `KEY`

The resource record type to use for the key.

Default value: `DNSKEY`

##### <a name="-dnssec_key--successor"></a>`successor`

Valid values: `true`, `false`

Whether the key should be created as an explicit successor to an
existing key. In this case the name, algorithm, size and type of the key
will be take from the existing key. The activation date will match the
inactivation date of the existing key.

Default value: `false`

##### <a name="-dnssec_key--zone"></a>`zone`

Valid values: `%r{^[a-zA-Z][a-zA-Z0-9.-]+\.[a-zA-Z]+$}`

The zone for which the key should be generated. This must be a valid
domain name. Defaults to the resource title if unset.

## Functions

### <a name="bind--gencfg"></a>`bind::gencfg`

Type: Puppet Language

Generate a Bind configuration snippet from a hash.  Each key of the hash is
used as a config option.  The can be a string, a numeric value, a boolean or
an array or hash.  the config option is terminated with a ';' char.

Strings and numeric values are included normally as parameter value.
A boolean value is written as 'yes' or 'no'.  Arrays are enclosed in
braces and array values are returned as a single line if the number of
elements is zero or one.  Otherwise a new line is used for each value.
Hashes are also enclosed in braces and the keys and values are processed
recursively.

#### Examples

##### String value

```puppet

bind::gencfg({ 'foo' => 'bar' }, 2)

  foo bar;
```

##### Numeric value

```puppet

bind::gencfg({ 'foo' => 42 }, 2)

  foo 42;
```

##### Boolean value

```puppet

bind::gencfg({ 'foo' => true }, 2)

  foo yes;
```

##### Array value with zero elements

```puppet

bind::gencfg({ 'foo' => [] }, 2)

  foo { };
```

##### Array value with one element

```puppet

bind::gencfg({ 'foo' => ['bar'] }, 2)

  foo { bar; };
```

##### Array value with multiple elements

```puppet

bind::gencfg({ 'foo' => ['bar', 'baz'] }, 2)

  foo {
    bar;
    baz;
  };
```

##### Hash value

```puppet

bind::gencfg({ 'foo' => { 'bar' => 'qux', 'quux' => 'baz' } }, 2)

  foo {
    bar  qux;
    quux baz;
  };
```

#### `bind::gencfg(Hash[String,Data] $config, Integer $indent = 0)`

Generate a Bind configuration snippet from a hash.  Each key of the hash is
used as a config option.  The can be a string, a numeric value, a boolean or
an array or hash.  the config option is terminated with a ';' char.

Strings and numeric values are included normally as parameter value.
A boolean value is written as 'yes' or 'no'.  Arrays are enclosed in
braces and array values are returned as a single line if the number of
elements is zero or one.  Otherwise a new line is used for each value.
Hashes are also enclosed in braces and the keys and values are processed
recursively.

Returns: `String` The config in Bind9 syntax.

##### Examples

###### String value

```puppet

bind::gencfg({ 'foo' => 'bar' }, 2)

  foo bar;
```

###### Numeric value

```puppet

bind::gencfg({ 'foo' => 42 }, 2)

  foo 42;
```

###### Boolean value

```puppet

bind::gencfg({ 'foo' => true }, 2)

  foo yes;
```

###### Array value with zero elements

```puppet

bind::gencfg({ 'foo' => [] }, 2)

  foo { };
```

###### Array value with one element

```puppet

bind::gencfg({ 'foo' => ['bar'] }, 2)

  foo { bar; };
```

###### Array value with multiple elements

```puppet

bind::gencfg({ 'foo' => ['bar', 'baz'] }, 2)

  foo {
    bar;
    baz;
  };
```

###### Hash value

```puppet

bind::gencfg({ 'foo' => { 'bar' => 'qux', 'quux' => 'baz' } }, 2)

  foo {
    bar  qux;
    quux baz;
  };
```

##### `config`

Data type: `Hash[String,Data]`

A hash with the configuration items.  For each key the name of the key
and the value are generated in Bind9 config file syntax.  Values may be
Booleans, Numbers, Strings, Arrays and other Hashes.

##### `indent`

Data type: `Integer`

The number of space characters to use as indentation for each line.  The
default value is 0; in this case no indentation is used.

### <a name="bind--zonefile_path"></a>`bind::zonefile_path`

Type: Puppet Language

Generate the zonefile name from zone

#### `bind::zonefile_path(String $zone, Optional[String] $view = '')`

The bind::zonefile_path function.

Returns: `String` The relative path and filename where the zonefile should be stored.
Example: 'com/example/db.example.com_internal'

##### `zone`

Data type: `String`

The name of the zone for which the path should be returned.  Example:
'example.com'

##### `view`

Data type: `Optional[String]`

Optional[String]
The name of the view for which the path should be returned.  Example:
'internal'

## Data types

### <a name="Bind--AddressMatchList"></a>`Bind::AddressMatchList`

Type to match allowed values for an address match list

Alias of `Variant[String, Array[String]]`

### <a name="Bind--Auto_dnssec"></a>`Bind::Auto_dnssec`

Type to match allowed values for the auto-dnssec option

Alias of `Enum['allow', 'maintain', 'off']`

### <a name="Bind--DNSSEC--Algorithm"></a>`Bind::DNSSEC::Algorithm`

Type to match allowed values for DNSSEC key algorithms

Alias of `Enum['dsa', 'eccgost', 'ecdsap256sha256', 'ecdsap384sha384', 'ed25519', 'ed448', 'nsec3dsa', 'nsec3rsasha1', 'rsamd5', 'rsasha1', 'rsasha256', 'rsasha512']`

### <a name="Bind--DNSSEC--Updatemode"></a>`Bind::DNSSEC::Updatemode`

Type to match allowed values for the dnssec-update-mode option

Alias of `Enum['maintain', 'no-resign']`

### <a name="Bind--DNSSEC--Validation"></a>`Bind::DNSSEC::Validation`

Type to match allowed values for the dnssec-validation option

Alias of `Enum['yes', 'no', 'auto']`

### <a name="Bind--Duration"></a>`Bind::Duration`

Type to match ISO8601 durations

Alias of `Pattern[/^(-?)P(?=\d|T\d)(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)([DW]))?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+(?:\.\d+)?)S)?)?$/]`

### <a name="Bind--Filter_aaaa_on_v4"></a>`Bind::Filter_aaaa_on_v4`

Type to match allowed values for the filter-aaaa-on-v4 option

Alias of `Optional[Enum['no','yes','break-dnssec']]`

### <a name="Bind--Forward"></a>`Bind::Forward`

Type to match allowed values for the forward option

Alias of `Enum['first', 'only']`

### <a name="Bind--Key--Algorithm"></a>`Bind::Key::Algorithm`

Type to match allowed values for the key algorithm

Alias of `Enum['hmac-md5', 'hmac-sha1', 'hmac-sha224', 'hmac-sha256', 'hmac-sha384', 'hmac-sha512']`

### <a name="Bind--Key--Lifetime"></a>`Bind::Key::Lifetime`

Type to match allowed values for the key lifetime

Alias of `Pattern[/^(-?)P(?=\d|T\d)(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)([DW]))?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+(?:\.\d+)?)S)?)?$/, /\Aunlimited\Z/]`

### <a name="Bind--Notify_secondaries"></a>`Bind::Notify_secondaries`

Type to match allowed values for the notify option

Alias of `Enum['yes', 'no', 'explicit']`

### <a name="Bind--Syslog--Facility"></a>`Bind::Syslog::Facility`

Type to match allowed values for the syslog facility

Alias of `Enum['auth', 'authpriv', 'cron', 'daemon', 'ftp', 'kern', 'local0', 'local1', 'local2', 'local3', 'local4', 'local5', 'local6', 'local7', 'lpr', 'mail', 'news', 'syslog', 'user', 'uucp']`

### <a name="Bind--Syslog--Severity"></a>`Bind::Syslog::Severity`

Type to match allowed values for the syslog severity

Alias of `Enum['critical', 'error', 'warning', 'notice', 'info', 'debug', 'dynamic']`

### <a name="Bind--Zone--Class"></a>`Bind::Zone::Class`

Type to match allowed values for the zone class

Alias of `Enum['IN', 'HS', 'CH']`

